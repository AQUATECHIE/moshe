<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apply | Moshe School of AI</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet" />


</head>

<body>
    <div class="home" id="home">
        <div class="A">
            <div class="sidebar">
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>

                </div>
                <div class="search">
                    <i class="fas fa-search"></i>

                </div>
                <div class="user">
                    <i class="fas fa-user"></i>

                </div>
                <div class="logo">
                    <span>m</span>
                    <span>o</span>
                    <span>s</span>
                    <span>h</span>
                    <span>e</span>
                    <span>s</span>
                    <span>c</span>
                    <span>h</span>
                    <span>o</span>
                    <span>o</span>
                    <span>l</span>
                    <span>a</span>
                    <span>i</span>

                </div>

            </div>
            <div class="hero">
                <div class="text">
                    <h3>Moshe School of AI</h3>
                    <h4>To bridge the digital skills gap in<br> Africa by training students in tech skills <br>
                        Aligned with global demands.
                    </h4>
                </div>
                <div class="btn">
                    <button class="cnt">EXPLORE COURSES</button>
                    <button class="read">APPLY NOW</button>

                </div>

            </div>
            <div class="image">

            </div>
        </div>
        <div class="B">
            <div class="links">

                <div class="B2">
                    <i class="fas fa-arrow-left"></i>
                </div>
                <div class="B1">
                    <i class="fas fa-arrow-right"></i>
                </div>

            </div>
            <div class="con">
                <div>01</div>
                <h3>RESEARCH PROJECT</h3>
            </div>
            <div class="con">
                <div>02</div>
                <h3>FIND IDEAS</h3>
            </div>
            <div class="con">
                <div>03</div>
                <h3>START OPTIMIZE</h3>
            </div>
            <div class="con">
                <div>04</div>
                <h3>REARCH TARGET</h3>
            </div>

        </div>
    </div>

    <div class="side-menu" id="sideMenu">

        <ul>
            <li><a href="#home">HOME</a></li>
            <li><a href="./about.html">ABOUT</a></li>
            <li><a href="#service">SERVICE</a></li>
            <li><a href="#testimonial">TESTIMONIAL</a></li>
            <li><a href="">LATEST NEWS</a></li>
            <li><a href="#contact">CONTACT US</a></li>

        </ul>


    </div>

    <div class="overlay" id="overlay">

    </div>


    <section class="apply-section">
        <h1>Apply for a Course</h1>
        <form id="applicationForm" novalidate>
            <div class="field">
                <input type="text" name="name" placeholder="Full Name" required />
                <div class="error" id="nameError"></div>
            </div>

            <div class="field">
                <input type="email" name="email" placeholder="Email Address" required />
                <div class="error" id="emailError"></div>
            </div>

            <div class="field">
                <input type="text" name="phone" placeholder="Phone Number" required />
                <div class="error" id="phoneError"></div>
            </div>

            <div class="field">
                <select name="course" required>
                    <option value="">Select Course</option>
                    <option value="Cybersecurity">Cybersecurity</option>
                    <option value="Data Analysis">Data Analysis</option>
                    <option value="Web Development">Web Development</option>
                    <option value="AI & Machine Learning">AI & Machine Learning</option>
                </select>
                <div class="error" id="courseError"></div>
            </div>

            <button type="submit">Submit Application</button>
        </form>
    </section>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <h2>✅ Application Submitted!</h2>
            <p>Please check your email for confirmation and next steps.</p>
            <button onclick="document.getElementById('successModal').style.display='none'">Close</button>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-top">
                <!-- Logo and About -->
                <div class="footer-logo-info">
                    <img src="moshe.jpg" alt="Moshe School Logo" class="footer-logo" />
                    <p>
                        Moshe School of AI is committed to equipping Africans with practical tech
                        skills in Cybersecurity, Data Analysis, and Web Development.
                    </p>
                </div>

                <!-- Partnerships -->
                <div class="footer-partners">
                    <h4>Our Partners</h4>
                    <div class="partners">
                        <img src="part.jpg" alt="Partner 1" />
                        <img src="part.jpg" alt="Partner 2" />
                    </div>
                </div>

                <!-- Contact Info -->
                <div class="footer-contact">
                    <h4>Get in Touch</h4>
                    <p>Email: info@mosheai.africa</p>
                    <p>Phone: +234 800 123 4567</p>
                    <p>WhatsApp: +234 900 987 6543</p>
                </div>

                <!-- Newsletter & Socials -->
                <div class="footer-newsletter">
                    <h4>Stay Updated</h4>
                    <input type="email" placeholder="Your Email Address" />
                    <button>Subscribe</button>
                    <div class="socials">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-x-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Triangles -->
        <div class="footer-triangle left-triangle"></div>
        <div class="footer-triangle right-triangle"></div>
    </footer>


    <!-- ✅ EmailJS SDK v4 via ES module -->
    <script type="module">
        import emailjs from 'https://cdn.jsdelivr.net/npm/@emailjs/browser@4/+esm';

        emailjs.init('jP3r-DeD-YgFl-CdE'); // ✅ Your EmailJS public key

        const form = document.getElementById('applicationForm');
        const modal = document.getElementById('successModal');

        const errors = {
            name: document.getElementById('nameError'),
            email: document.getElementById('emailError'),
            phone: document.getElementById('phoneError'),
            course: document.getElementById('courseError'),
        };

        const validate = () => {
            const name = form.name.value.trim();
            const email = form.email.value.trim();
            const phone = form.phone.value.trim();
            const course = form.course.value;

            errors.name.textContent = name ? '' : 'Full name is required';
            errors.email.textContent = /^\S+@\S+\.\S+$/.test(email) ? '' : 'Valid email is required';
            errors.phone.textContent = /^\d{10,15}$/.test(phone) ? '' : 'Valid phone number is required';
            errors.course.textContent = course ? '' : 'Please select a course';

            return !(errors.name.textContent || errors.email.textContent || errors.phone.textContent || errors.course.textContent);
        };

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (!validate()) return;

            const formData = {
                name: form.name.value.trim(),
                email: form.email.value.trim(),
                phone: form.phone.value.trim(),
                course: form.course.value
            };

            const adminPhone = '2348024962596';
            const whatsappUrl = `https://wa.me/${adminPhone}?text=${encodeURIComponent(
                `New application from ${formData.name} for ${formData.course}. Contact at: ${formData.phone}`
            )}`;
            const formDataWithWhatsApp = { ...formData, whatsappLink: whatsappUrl };

            try {
                // Send to Applicant (includes WhatsApp link in email template)
                await emailjs.send('service_juvoq4b', 'template_12dsgno', formDataWithWhatsApp);
                console.log('✅ Confirmation email sent to applicant');

                // Send to Admin
                await emailjs.send('service_juvoq4b', 'template_ua6vesf', formDataWithWhatsApp);
                console.log('✅ Notification email sent to admin');

                form.reset();
                modal.style.display = 'flex';
            } catch (error) {
                alert('There was an error submitting your application. Please try again later.');
                console.error('❌ Email sending failed:', error);
            }
        });
    </script>
</body>

</html>